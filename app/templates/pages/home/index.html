{% extends "includes/templates.html" %}
{% block title %}Main App{% endblock %}

{% block after_style %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" integrity="sha512-q3eWabyZPc1XTCmF+8/LuE1ozpg5xxn7iO89yfSOd5/oKvyqLngoNGsx8jq92Y8eXJ/IRxQbEC+FGSYxtk2oiw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/js/all.min.js" integrity="sha512-LW9+kKj/cBGHqnI4ok24dUWNR/e8sUD8RLzak1mNw5Ja2JYCmTXJTF5VpgFSw+VoBfpMvPScCo2DnKTIUjrzYw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock %}


{% block main %}
<!--   Big container   -->
<div class="container">
  {% include 'includes/error.html' %}
  <div class="row text-center justify-content-center">
    <div class="row" style="display: inline; width: 100%">
      <h2>Excel data cleaner</h2>
    </div>
    <h4>
      Perbaiki data excel dari format format. Upload satu file excel dan temukan
      perbedaannya
    </h4>
  </div>
  <div class="row outer-box border text-center">
    <div class="row inner-box border text-center w-100">
      <form class="form-custom" action="/result" method="post" enctype="multipart/form-data">
        <p class="text-white" id="filename"></p>
        <label class="custom-file-upload" for="excel_file" id="label-input-file">
          <i class="fa fa-file-text-o" aria-hidden="true"></i>
          <span class="text-input-file">Choose File</span>
        </label>
        <input type="file" id="excel_file" name="excel_file" accept=".xls,.xlsx,.csv" />
        <input type="submit" class="btn-submit" value="Start" id="btn-submit" />
        <i class="fa-3x fas fa-spinner fa-spin" style='color:white' id="spinner-submit"></i>
      </form>
    </div>
  </div>
</div>

{% endblock %}

{% block script %}
<script>
  $("#btn-submit").hide();
  $('#spinner-submit').hide();
  $("#excel_file").change(function () {
    let i = $("#excel_file")[0].files[0].name;
    $("#filename").text(i);
    $("#label-input-file").hide();
    $("#btn-submit").show();
  });
  $('#btn-submit').click(function () {
    $('#spinner-submit').show();
  });
</script>
{% endblock %}